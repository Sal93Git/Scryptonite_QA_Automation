
@Given('i go to url "{url}"')
@async_run_until_complete
async def go_to_url(context, url):
    await context.page_objects['BasePage'].navigate(url)
    # await context.page_objects['BasePage'].is_title_contains("google")
    time.sleep(3)


await self.page.click(IsamAndOrbitLoginElements.Orbit_profile_select_Btn)


async def select_orbit_profile(self, orbit_profile):
    element = await self.page.get_by_role("cell", name=orbit_profile).click()


try:
    element = await self.page.wait_for_selector(IsamAndOrbitLoginElements.user_login_warning, timeout=10000, state="visibile")
    if element:
        await self.page.get_by_role("button", name="Continue").click()
        print("other user logged in warning handled")
except Exception as e:
    print("other user logged in warning did not appear")



await self.page.wait_for_load_state('load')

# to skip a step based on env
if os.getenv('ENVIRONMENT_PROPERTY') not in ['fe123', 'fe321']:
    #do some code vased ib this


await self.page.locator(IsamAndOrbitLoginElements.ISAM_username_field).fill(os.getenv('JUNCTION_USERNAME'))


await self.page.wait_for_timeout(5000)

